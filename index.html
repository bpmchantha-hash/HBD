<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Happy Birthday Sien Dara!</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');

        body {
            margin: 0;
            overflow-x: hidden;
            font-family: 'Arial', sans-serif;
            background: #ffebf0;
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #222;
            text-align: center;
            padding: 20px;
        }

        /* Flower petals floating animation */
        .flower {
            position: fixed;
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            animation-name: floatUp;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
            opacity: 0.7;
            pointer-events: none;
            filter: drop-shadow(0 0 3px #ff69b4);
            will-change: transform, opacity;
        }

        /* Different flower images */
        .flower1 {
            background-image: url('https://i.pinimg.com/originals/7a/31/09/7a310971b9cc3b107b1ee6d5a4d7b32f.png');
        }

        .flower2 {
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Cherry_blossom_flower.svg/1024px-Cherry_blossom_flower.svg.png');
            filter: drop-shadow(0 0 5px #ff1493);
            opacity: 0.8;
        }

        .flower3 {
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Flower_icon.svg/1200px-Flower_icon.svg.png');
            filter: drop-shadow(0 0 4px #ff69b4);
            opacity: 0.6;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0.7;
            }

            100% {
                transform: translateY(-10vh) rotate(360deg);
                opacity: 0;
            }
        }

        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 3.5rem;
            margin-bottom: 10px;
            cursor: default;
            user-select: none;
        }

        #name {
            font-size: 3rem;
            margin: 0;
            user-select: none;
            display: inline-block;
            position: relative;
        }

        .jump {
            animation: jumpAnim 0.6s ease forwards;
        }

        @keyframes jumpAnim {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-50px);
            }

            100% {
                transform: translateY(0);
            }
        }

        #cake {
            font-size: 3rem;
            margin-left: 10px;
        }

        button {
            font-size: 1.2rem;
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            margin-top: 25px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #ff1493;
        }

        #message {
            margin-top: 30px;
            font-size: 1.3rem;
            max-width: 600px;
            line-height: 1.6;
            display: none;
            text-align: left;
            background: rgba(255, 182, 193, 0.2);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px pink;
            user-select: none;
        }

        #gift {
            margin-top: 30px;
            font-size: 3rem;
            cursor: pointer;
            display: none;
            user-select: none;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        #finalImage {
            margin-top: 30px;
            max-width: 90vw;
            max-height: 400px;
            display: none;
            border-radius: 20px;
            box-shadow: 0 0 20px #ff69b4;
            user-select: none;
        }

        /* Confetti container */
        #confetti {
            position: fixed;
            pointer-events: none;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: visible;
            z-index: 9999;
        }

        /* Fireworks container */
        #fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 10000;
        }
    </style>
</head>

<body>

    <h1>Happy Birthday</h1>
    <h2 id="name">Sien Dara <span id="cake">üéÇ</span></h2>

    <button id="startBtn">Click Here for Your Birthday Surprise!</button>

    <div id="message">
        Dear Sien Dara,<br><br>
        Wishing you a very happy birthday filled with love, laughter, and joy! May this year bring you countless
        blessings, wonderful adventures, and dreams come true. You deserve all the happiness in the world on your
        special day and always.<br><br>
        Enjoy every moment, eat lots of cake, and celebrate surrounded by people who care about you deeply. May your
        smile grow brighter with each passing year, and may your heart be filled with peace and happiness.<br><br>
        Happy Birthday once again! üéâüéàüéÅ
    </div>

    <div id="gift" title="Click the gift to see your surprise!">üéÅ</div>

    <img id="finalImage" src="https://i.pinimg.com/originals/7c/4c/59/7c4c59de4e96d318a2f11e9200c2b16f.jpg"
        alt="Birthday Surprise" />

    <div id="confetti"></div>
    <canvas id="fireworks"></canvas>

    <script>
        const nameEl = document.getElementById('name');
        const cake = document.getElementById('cake');
        const btn = document.getElementById('startBtn');
        const message = document.getElementById('message');
        const gift = document.getElementById('gift');
        const finalImage = document.getElementById('finalImage');
        const confettiContainer = document.getElementById('confetti');
        const fireworksCanvas = document.getElementById('fireworks');
        const ctx = fireworksCanvas.getContext('2d');

        // Resize fireworks canvas
        function resizeCanvas() {
            fireworksCanvas.width = window.innerWidth;
            fireworksCanvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Flower petals floating animation - 3 types of flowers
        function createFlower() {
            const flower = document.createElement('div');
            flower.classList.add('flower');
            const type = Math.floor(Math.random() * 3) + 1;
            flower.classList.add('flower' + type);

            flower.style.left = Math.random() * window.innerWidth + 'px';
            flower.style.animationDuration = (5 + Math.random() * 5) + 's';
            flower.style.opacity = (0.3 + Math.random() * 0.7);

            document.body.appendChild(flower);

            setTimeout(() => {
                flower.remove();
            }, 10000);
        }
        setInterval(createFlower, 500);

        // Jump animation for name and cake
        function jumpName() {
            nameEl.classList.add('jump');
            cake.classList.add('jump');
            setTimeout(() => {
                nameEl.classList.remove('jump');
                cake.classList.remove('jump');
            }, 600);
        }

        // Play the YouTube birthday song in hidden iframe (YouTube autoplay restrictions require iframe)
        let player;
        function createYouTubePlayer() {
            const iframe = document.createElement('iframe');
            iframe.src = "https://www.youtube.com/embed/i9fqb1A2lVA?autoplay=1&controls=0&loop=1&playlist=i9fqb1A2lVA&mute=0";
            iframe.style.position = 'fixed';
            iframe.style.width = '1px';
            iframe.style.height = '1px';
            iframe.style.border = 'none';
            iframe.style.opacity = '0';
            iframe.allow = 'autoplay';
            document.body.appendChild(iframe);
            player = iframe;
        }

        // Confetti animation code adapted from simple vanilla confetti
        const confettiPieces = [];
        const colors = ['#ff4081', '#ff80ab', '#ff1744', '#f50057', '#c51162'];

        function randomRange(min, max) {
            return Math.random() * (max - min) + min;
        }

        class ConfettiPiece {
            constructor() {
                this.x = randomRange(0, window.innerWidth);
                this.y = randomRange(-20, -100);
                this.size = randomRange(7, 12);
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.speed = randomRange(1, 3);
                this.rotation = randomRange(0, 360);
                this.rotationSpeed = randomRange(5, 10);
            }

            update() {
                this.y += this.speed;
                this.rotation += this.rotationSpeed;
                if (this.y > window.innerHeight) {
                    this.y = randomRange(-20, -100);
                    this.x = randomRange(0, window.innerWidth);
                }
            }

            draw(ctx) {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation * Math.PI / 180);
                ctx.fillStyle = this.color;
                ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                ctx.restore();
            }
        }

        function createConfetti(count) {
            for (let i = 0; i < count; i++) {
                confettiPieces.push(new ConfettiPiece());
            }
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            confettiPieces.forEach(p => {
                p.update();
                p.draw(ctx);
            });
            if (confettiPieces.length > 0) {
                requestAnimationFrame(animateConfetti);
            }
        }

        // Fireworks effect code
        class FireworkParticle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.radius = 3;
                this.alpha = 1;
                this.speedX = (Math.random() - 0.5) * 6;
                this.speedY = (Math.random() - 0.5) * 6;
                this.gravity = 0.05;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.speedY += this.gravity;
                this.alpha -= 0.02;
                this.radius *= 0.96;
            }

            draw(ctx) {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        let fireworksParticles = [];

        function explodeFireworks(x, y) {
            for (let i = 0; i < 50; i++) {
                fireworksParticles.push(new FireworkParticle(x, y, colors[Math.floor(Math.random() * colors.length)]));
            }
            animateFireworks();
        }

        function animateFireworks() {
            ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            fireworksParticles.forEach((p, i) => {
                p.update();
                if (p.alpha <= 0) fireworksParticles.splice(i, 1);
                else p.draw(ctx);
            });
            if (fireworksParticles.length > 0) {
                requestAnimationFrame(animateFireworks);
            }
        }

        // Main button click event
        btn.addEventListener('click', () => {
            jumpName();

            // Play music
            if (!player) createYouTubePlayer();

            // Show birthday message
            message.style.display = 'block';

            // Show gift box after delay
            setTimeout(() => {
                gift.style.display = 'inline-block';
            }, 4000);

            // Disable button after clicked once
            btn.disabled = true;
            btn.style.backgroundColor = '#ccc';
            btn.style.cursor = 'default';
        });

        // Gift click event - show confetti, fireworks, and final image
        gift.addEventListener('click', () => {
            message.style.display = 'none';
            gift.style.display = 'none';
            finalImage.style.display = 'block';

            createConfetti(150);
            animateConfetti();

            explodeFireworks(window.innerWidth / 2, window.innerHeight / 2);
        });

    </script>
</body>

</html>